<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="learn-vi.css" />
	<title>VIM学习笔记 高级替换</title>
</head>
<body>

	<h2 class="article"><a id="grepprg">&amp;命令</a></h2>
	<p>&amp;命令可以重复执行替换。此命令可以保存之前的from和to的字符串，但是允许使用不同的范围(range)和标记(flags)，命令形式如下:</p>
	<p style="text-indent:2em"><code class="inset">:range &amp; flags count</code></p>
	<p>例如执行以下替换命令:</p>
	<p style="text-indent:2em"><code class="inset">:1 substitute /a+/b/p</code></p>
	<p>命令的执行结果如下:</p>
	<p><code class="msg">Test b* aa* a*</code></p>
	<p>命令只替换了第一个匹配字符。如果我们希望针对整行进行替换，可以使用<em>g</em>标记重复上次替换命令:</p>
	<p style="text-indent:2em"><code class="inset">:&amp;g</code></p>
	<p>命令的执行结果如下:</p>
	<p><code class="msg">Test b* b* b*</code></p>
	<p>命令:&amp;和命令:substitute在没有指定替换字符串的情况下作用相同，都可以执行上一次的替换命令。</p>
	<p>例如以下命令将第五行中的字符manager变为idiot:</p>
	<p style="text-indent:2em"><code class="inset">:5 substitute /manager/idiot/</code></p>
	<p>执行&amp;命令，当前行中的下一个manager字符串也会被替换。如果下移一行然后执行&amp;命令，那么该行也会发生相应的变化。如果在这个命令中指定了count，那么命令将作用于多行。</p>
	<p>命令<code class="inset">:~</code>与<code class="inset">&amp;g</code>相类似，所不同的是它会匹配上一次<code class="inset">/</code>或是<code class="inset">?</code>查找时使用的字符串，而不是上一次:substitute命令中的字符串。命令一般格式如下:</p>
	<p style="text-indent:2em"><code class="inset">:range~ flags count</code></p>

	<h2 class="article"><a id="grepprg">&amp;命令</a></h2>
	<p>:</p>
	<p style="text-indent:2em"><code class="inset"></code></p>

	<h2 class="article"><a id=""></a></h2>

	<table summary="Commands" border="2" frame="hsides" rules="all" cellspacing="0" cellpadding="3">
		<caption>命令小结</caption>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
		<tr><td><code class="inset"></code></td><td></td></tr>
	</table>
</body>
</html>

