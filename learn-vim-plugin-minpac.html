<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="learn-vi.css" />
	<title>VIM学习笔记 插件管理器(minpac)</title>
</head>
<body>

	<h1>VIM学习笔记 插件管理器(minpac)</h1>
	<p><a href="https://raw.githubusercontent.com/vim/vim/master/runtime/doc/version8.txt" title="packages">Vim8</a>引入了内置的<a href="http://yyq123.github.io/learn-vim/learn-vim-packages.html" title="packages">packages</a>软件包功能。而<a href="https://github.com/k-takata/minpac" title="minpac">minpac</a>则是构建于packages软件包功能之上的轻量化插件管理器。</p>

	<h2 class="article">安装配置</h2>
	<p>首先在操作系统中，为minpac创建安装目录：</p>
	<ul>
		<li>Linux:<br /><code class="inset">$ mkdir -p ~/.vim/pack/minpac/opt</code></li>
		<li>Windows:<br /><code class="inset">$ mkdir -p ~/vimfiles/pack/minpac/opt</code></li>
	</ul>
	<p>使用以下命令，将minpac作为手动载入的插件，安装在<kbd>opt</kbd>目录中：</p>
	<pre class="block"><code>$ cd ~/vimfiles/pack/minpac/opt
$ git clone https://github.com/k-takata/minpac.git</code></pre>
	<p>在vimrc配置文件中，添加以下命令：</p>
	<pre class="block"><code class="inset">packadd minpac
call minpac#init()</code></pre>

	<h2 class="article">安装插件</h2>
	<p>minpac支持源码托管在<a href="https://github.com/">GitHub</a>的插件，你可以在<a href="https://github.com/vim-scripts/">github.com/vim-scripts/</a>上找到<a href="http://www.vim.org/">vim官网</a>里所有插件的镜像，也可以直接引用github.com的网址。</p>
	<p>如果希望安装新插件，可以在vimrc配置文件中，添加以下minpac#add()命令：</p>
	<pre class="block"><code>call minpac#add('lilydjwg/colorizer')
call minpac#add('kshenoy/vim-signature')
call minpac#add('yyq123/HTML-Editor')</code></pre>
	<p>默认情况下，插件将被作为自动载入插件安装至<kbd>start</kbd>目录。</p>
	<p>通过在函数中指定'type': 'opt'选项，将minpac自身作为手动载入插件进行注册。</p>
	<pre class="block"><code>call minpac#add('k-takata/minpac', {'type':'opt'})</code></pre>
	<p>然后使用以下命令，重新载入vimrc配置文件，并安装插件：</p>
	<pre class="block"><code>:source ~/.vimrc
:call minpac#update()</code></pre>
	<p>安装的插件将存放在<kbd>pack</kbd>子目录中，目录结构如下：</p>
	<p><img src="https://yyq123.github.io/learn-vim/images/minpac-Directory-Structure.png" alt="Directory" /></p>

	<h2 class="article">卸载插件</h2>
	<p>如果希望卸载插件，请先在vimrc文件中删除相关call minpac#add('')命令；然后重新载入vimrc文件，并执行以下命令：</p>
	<pre class="block"><code>:call minpac#clean()</code></pre>

	<h2 class="article">更新插件</h2>
	<p>建议在vimrc文件中，增加以下命令映射以便于后续操作：</p>
	<pre class="block"><code>" minpac commands:
" 安装和更新插件
command! PackUpdate call minpac#update()
" 卸载插件
command! PackClean call minpac#clean()
" 查看插件状态
command! PackStatus call minpac#status()</code></pre>
	<p>然后就可以使用以下命令，批量更新所有已安装的插件：</p>
	<pre class="block"><code>:PackUpdate</code></pre>

	<h2 class="article">帮助信息</h2>
	<p>使用以下命令，可以查看minpac的帮助信息：</p>
	<p style="text-indent:2em"><code class="inset">:help minpac</code></p>
	
	<p style="border-top:1px solid lightgray"><span style="float:right">Ver 25.4.22&nbsp;|&nbsp;<a href="mailto:yyq123@gmail.com">YYQ</a></span><span>&lt;<a title="软件包(packages)" href="http://yyq123.github.io/learn-vim/learn-vim-packages.html">上一篇</a>&nbsp;|<a title="笔记列表" href="https://yyq123.github.io/learn-vim/learn-vi-00-00-TOC.html">&nbsp;目录&nbsp;</a>|&nbsp;<a title="运行外部命令(shell)" href="http://yyq123.github.io/learn-vim/learn-vi-71-Shell.html">下一篇</a>&gt;</span></p>

</body>
</html>
