<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh" xml:lang="zh">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="learn-vi.css" />
	<title>VIM学习笔记 启动Vim(Starting)</title>
</head>
<body>
	<h1>VIM学习笔记 启动Vim(Starting)</h1>

	<p>我们通常使用 vim [arguments] [filename] .. 的形式，使用指定的选项打开指定的文件。例如使用以下命令，以只读模式打开virmc配置文件：</p>
	<p><code class="inset">$ vim -R .vimrc</code></p>

	<h2 class="article"><a id="vim-arguments">启动命令参数</a></h2>
	<p>在操作系统中执行以下命令，可以查看完整的命令行参数列表：</p>
	<p style="text-indent:2em"><code class="inset">$ vim --help</code></p>
	<table summary="" border="2" frame="hsides" rules="all" cellspacing="0" cellpadding="3">
	<tr><td><code class="inset">-v</code></td><td>vi模式(与命令vi相同)</td></tr>
	<tr><td><code class="inset">-e</code></td><td>Ex模式(与命令ex相同)</td></tr>
	<tr><td><code class="inset">-E</code></td><td>Improved Ex模式</td></tr>
	<tr><td><code class="inset">-g</code></td><td>图形模式(与命令gvim相同)</td></tr>
	<tr><td><code class="inset">-s</code></td><td>安静(批处理)模式 (只能与"ex"一起使用)</td></tr>
	<tr><td><code class="inset">-d</code></td><td>Diff模式(与命令vimdiff相同)</td></tr>
	<tr><td><code class="inset">-y</code></td><td>Easy模式(与命令evim相同)<br /><span style="color:#666666">以插入模式启动，类似普通文本编辑器的操作方式</span></td></tr>
	<tr><td><code class="inset">-R</code></td><td>只读模式(与命令view相同)</td></tr>
	<tr><td><code class="inset">-Z</code></td><td>受限模式(与rvim相同)<br /><span style="color:#666666">不允许使用:shell命令和其他外部Shell命令</span></td></tr>
	<tr><td><code class="inset">-m</code></td><td>允许修改文本，但不允许保存文件</td></tr>
	<tr><td><code class="inset">-M</code></td><td>不允许修改文本，也不允许保存文件</td></tr>
	<tr><td><code class="inset">-b</code></td><td>二进制模式<br /><span style="color:#666666">使用noexpandtab,textwidth=0,nomodeline,binary选项</span></td></tr>
	<tr><td><code class="inset">-l</code></td><td>Lisp模式<br /><span style="color:#666666">设置了lisp和showmatch选项</span></td></tr>
	<tr><td><code class="inset">-c</code></td><td>加载第一个文件后执行指定命令</td></tr>
	<tr><td><code class="inset">-C</code></td><td>Vi兼容模式（compatible）</td></tr>
	<tr><td><code class="inset">-N</code></td><td>非兼容模式（nocompatible）</td></tr>
	<tr><td><code class="inset">-D</code></td><td>调试模式</td></tr>
	<tr><td><code class="inset">-n</code></td><td>不使用swap文件</td></tr>
	<tr><td><code class="inset">-r</code></td><td>列示swap文件</td></tr>
	<tr><td><code class="inset">-p[N]</code></td><td>新建N个标签页<br /><span style="color:#666666">(默认为每个文件一个)</span></td></tr>
	<tr><td><code class="inset">-o[N]</code></td><td>新建N个水平窗口<br /><span style="color:#666666">(默认为每个文件一个)</span></td></tr>
	<tr><td><code class="inset">-O[N]</code></td><td>新建N个垂直窗口<br /><span style="color:#666666">(默认为每个文件一个)</span></td></tr>
	<tr><td><code class="inset">+</code></td><td>打开文件并移动到文件末尾</td></tr>
	<tr><td><code class="inset">+lnum</code></td><td>打开文件并移动到第lnum行</td></tr>
	<tr><td><code class="inset">-w &lt;scriptout&gt;</code></td><td>将用户输入的所有命令，追加到脚本文件末尾</td></tr>
	<tr><td><code class="inset">-W &lt;scriptout&gt;</code></td><td>将用户输入的所有命令，覆盖存储到脚本文件</td></tr>
	<tr><td><code class="inset">-S &lt;sessin&gt;</code></td><td>读取用-w参数保存的脚本文件</td></tr>
	<tr><td><code class="inset">-s &lt;scriptin&gt;</code></td><td>读取用-w参数保存的脚本文件</td></tr>
	<tr><td><code class="inset">-u &lt;file&gt;</code></td><td>使用file为初始化文件，而不使用vimrc作为初始化文件；<br />如果没有指定的文件，那么就不使用任何初始化文件。</td></tr>
	<tr><td><code class="inset">-U &lt;file&gt;</code></td><td>使用file为初始化文件，而不使用gvimrc作为初始化文件；<br />如果没有指定的文件，那么就不使用任何初始化文件。</td></tr>
	<tr><td><code class="inset">-i &lt;file&gt;</code></td><td>使用file而不使用.viminfo作为初始化文件</td></tr>
	<tr><td><code class="inset">--noplugin</code></td><td>不启用插件</td></tr>
	<tr><td><code class="inset">--startuptime file</code></td><td>将Vim启动过程的耗时信息写入到指定文件</td></tr>
	<tr><td><code class="inset">--clean</code></td><td>非兼容模式(nocompatible)，不启用插件和viminfo</td></tr>
	<tr><td><code class="inset">--version</code></td><td>查看版本信息</td></tr>
	</table>

	<h2 class="article"><a id="vim-starting-mode">启动命令变体</a></h2>
	<p>Vim编辑器实际上是一个有着不同的名字或链接的文件，执行以下不同的命令，就可以使编辑器在不同的模式下启动：</p>
	<table summary="" border="2" frame="hsides" rules="all" cellspacing="0" cellpadding="3">
	<tr style="background: #e5e5e5;"><td>命令</td><td>功能</td><td>对应参数</td></tr>
	<tr><td><code class="inset">vim</code></td><td>在终端模式下启动</td><td></td></tr>
	<tr><td><code class="inset">gvim</code></td><td>在图形模式下启动</td><td><code class="inset">-g</code></td></tr>
	<tr><td><code class="inset">ex</code></td><td>在Ex模式下启动</td><td><code class="inset">-e</code></td></tr>
	<tr><td><code class="inset">exim</code></td><td>在Improved Ex模式下启动</td><td><code class="inset">-E</code></td></tr>
	<tr><td><code class="inset">view</code></td><td>在正常模式下启动,只读</td><td><code class="inset">-R</code></td></tr>
	<tr><td><code class="inset">gview</code></td><td>在图形模式下启动,只读</td><td><code class="inset">-Rg</code></td></tr>
	<tr><td><code class="inset">rvim</code></td><td>在终端模式下启动,受限</td><td><code class="inset">-Z</code></td></tr>
	<tr><td><code class="inset">rview</code></td><td>在终端模式下启动,只读,受限</td><td><code class="inset">-RZ</code></td></tr>
	<tr><td><code class="inset">rgvim</code></td><td>在图形模式下启动,受限</td><td><code class="inset">-gZ</code></td></tr>
	<tr><td><code class="inset">rgview</code></td><td>在图形模式下启动,只读,受限</td><td><code class="inset">-RgZ</code></td></tr>
	<tr><td><code class="inset">evim</code></td><td>在Easy模式下启动</td><td><code class="inset">-y</code></td></tr>
	<tr><td><code class="inset">eview</code></td><td>在Easy模式下启动,只读</td><td><code class="inset">-yR</code></td></tr>
	<tr><td><code class="inset">vimdiff</code></td><td>在Diff模式下启动</td><td><code class="inset">-d</code></td></tr>
	<tr><td><code class="inset">gvimdiff</code></td><td>在Diff模式下启动图形模式</td><td><code class="inset">-gd</code></td></tr>
	</table>

	<h2 class="article"><a id="vim-starting-example">启动命令实例</a></h2>
	<p>打开文件时，自动执行查找命令，并定位到匹配处：</p>
	<p><code class="inset"> vim -c "/main" test.c</code></p>
	<p>在打开大型文件时，不使用vimrc文件和插件：</p>
	<p><code class="inset"> vim -u NONE -U NONE -N hugefile.txt</code></p>
	<p>例如，需要将多个文件中的字符串-person-替换成Jones：如果是手工方式，那么就需要打开多个文件进行重复操作；而利用命令行参数，则可以进行自动化地批处理。</p>
	<p>首先，将以下命令保存为change.vim文件：</p>
	<p><code class="inset">:%s/-person-/Jones/g<br/>
	:write<br/>
	:quit</code></p>
	<p>然后，在操作系统中执行以下命令，以ex模式运行Vim，进行替换操作：</p>
	<p><code class="inset">$ vim -es file.txt&lt;change.vim</code></p>
	<p><span style="font-weight:bold; color:#4169E1; margin-left:0.2em">&#65311;</span>使用以下命令，可以查看关于Vim启动的帮助信息：</p>
	<p><code class="inset">:help vim-arguments</code></p>

	<p style="border-top:1px solid lightgray"><span style="float:right">Ver: 2.0&nbsp;|&nbsp;<a href="mailto:yyq123@gmail.com">YYQ</a></span><span>&lt;<a title="在Linux下安装Vim" href="http://yyq123.github.io/learn-vim/learn-vi-201-Install-Vim-Linux.html">上一篇</a>&nbsp;|<a title="笔记列表" href="http://yyq123.github.com/learn-vim/learn-vi-00-List.html">&nbsp;目录&nbsp;</a>|&nbsp;<a title="基本编辑" href="http://yyq123.github.io/learn-vim/learn-vi-01-Basic.html">下一篇</a>&gt;</span></p>
</body>
</html>
